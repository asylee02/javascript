<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=nn , initial-scale=1.0">
  <title>가위바위보</title>
  <style>
    #computer{
      width:142px;
      height: 200px;
    }
  </style>
</head>
<body>
  <div id="computer"></div>
  <div>
    <button id="scissors" class="btn">가위</button>
    <button id="rock" class="btn">바위</button>
    <button id="paper" class="btn">보</button>
  </div>
  <div id="score">0</div>

  <script>
    const $computer = document.querySelector('#computer');
    const $score = document.querySelector('#score');
    const $rock = document.querySelector('#rock');
    const $scissors = document.querySelector('#scissors');
    const $paper = document.querySelector('#paper');
    const IMG_URL = './rsp.png';
    $computer.style.background= `url(${IMG_URL}) 0 0`;
    $computer.style.backgroundSize='auto 200px';

    const rspX= {         // 이렇게 반복되는 것들은 객체로 묵는것이 좋음
      scissors: '0',
      rock : '-220px',
      paper : '-440px',
    };
    
    let computerChoice =  'scissors';
    const changeComputerHand = () => {
      if(computerChoice=== 'scissors'){ //가위면
        computerChoice='rock';
    }
    else if (computerChoice === 'rock'){
      computerChoice='paper'; // 바위
    }
    else { //보
      computerChoice='scissors';
    }
    $computer.style.background= `url(${IMG_URL}) ${rspX[computerChoice]} 0`; /// 객체의 값을 불러올 때 절대로 .을 사용하지 않고 대괄호를 사용함
    $computer.style.backgroundSize='auto 200px';
    ;
  }
  
  
  let intervalId = setInterval(changeComputerHand, 50); // 절대로 () 사용하지 말것
    
    const clickButton=()=>{
      if(clickable){
      clearInterval(intervalId);
      clickable = false;
    //점수 계산 및 화면 표시
    const mychoice = event.target.id;
    setTimeout(() =>{
      clickable =true;
      intervalId=setInterval(changeComputerHand,50);
    },1000);
    }
  };

    $rock.addEventListener('click', clickButton);
    $scissors.addEventListener('click', clickButton);
    $paper.addEventListener('click', clickButton);
  </script>
</body>
</html> 